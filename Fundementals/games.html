<!--Armor Flash Games Archive: https://archive.org/download/armorgames-->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fun Time With Joe</title>

    <link rel="icon" type="image/x-icon" href="./src/favicon.ico">

    <style>
        @import url('https://fonts.googleapis.com/css2?family=Comfortaa:wght@300;400;700&display=swap');

        * {
            overflow-x: hidden;
        }

        body {
            font-family: "Comfortaa";
            padding: 0;
            margin: 10px;
            background-color: snow;
            box-sizing: border-box;
            text-align: center;
            transition: background-color 0.5 ease;
        }

        header {
            padding: 0;
            margin: 0;
            display: inline-block;
            width: 100%;
            font-size: 30px;
            font-weight: 700;
        }

        .games {
            display: grid;
            width: 114em;
            grid-gap: 6rem;
            grid-template-columns: repeat(auto-fit, minmax(30rem, 1fr));
            align-items: start;
            padding-top: 100px;
            padding-left: 30px;
            padding: 10px;
        }

        .games a {
            text-decoration: none;
            color: black;
        }

        .game {
            background-color: rgb(201, 201, 201);
            border-radius: 0.4rem;
            overflow: hidden;
            box-shadow: 0 3rem 6rem rgba(0, 0, 0, 0.1);
            cursor: pointer;
            transition: 0.2s;
        }

        .game:hover {
            transform: translateY(-0.5%);
            box-shadow: 0 4rem 8rem rgba(0, 0, 0, 0.5);
        }

        .game img {
            display: block;
            width: 100%;
            height: 20rem;
            object-fit: cover;
        }

        footer {
            padding: 100px;
            margin: 0;
            margin-top: 0;
            margin-bottom: 0;
            text-align: center;
        }

        footer button {
            border-radius: 100px;
            background-color: #1D84B5;
            border-color: whitesmoke;
            color: white;
            padding: 10px;
        }

        footer button:hover {
            cursor: pointer;
            background-color: white;
            color: black;
            border-color: #1D84B5;
        }
    </style>
</head>
<body onload="checkCookie()">
    <header>
        <h1 id="name">Joe's Fun Collection Of Games</h1>
        <h2 id="recentgamesMsg"></h2>
    </header>
    <div class="games" id="recent"></div>
    <h2>Check out our entire collection of games!</h2>
    <div class="games">
        <div class="game">
            <a href="./player.html?location=cGFwYXNwaXp6ZXJpYV92Mi5zd2Y=&name=PapasPizzera&type=flash" target="_blank">
            <h2>Papas Pizzeria</h2>
            <img src="./src/games/img/papaspizzeria.png"></a>
        </div>
        <div class="game">
            <a href="./player.html?location=QnVyZ2VyVHljb29uLnN3Zg==&name=BurgerTycoon&type=flash" target="_blank">
            <h2>Fast Food Tycoon</h2>
            <img src="./src/games/img/fastfoodtycoon.png"></a>
        </div>
        <div class="game">
            <a href="./player.html?location=YWdlb2Z3YXIyLnN3Zg==&name=AgeOfWar&type=flash" target="_blank">
            <h2>Age of War 2</h2>
            <img src="./src/games/img/ageofwar2.png"></a>
        </div>
        <div class="game">
            <a  href="./player.html?location=amFja3NtaXRoLnN3Zg==&name=JackSmith&type=flash"target="_blank">
            <h2>Jack Smith</h2>
            <img src="./src/games/img/jacksmith.png"></a>
        </div>
        <div class="game">
            <a  href="./player.html?location=VGhlbWVIb3RlbC5zd2Y=&name=ThemeHotel&type=flash" target="_blank">
            <h2>Theme Hotel</h2>
            <img src="./src/games/img/themehotel.png"></a>
        </div>
        <div class="game">
            <a  href="./player.html?location=d2hlbnBpenphc2F0dGFjay5zd2Y=&name=WhenPizzasAttack&type=flash" target="_blank">
            <h2>When Pizza's Attack</h2>
            <img src="./src/games/img/papalouiewhenpizzasattack.png"></a>
        </div>
        <div class="game">
            <a href="./player.html?location=bWlyYWdpbmV3YXIuc3dm&name=MiragineWar&type=flash" target="_blank">
            <h2>Miragine War</h2>
            <img src="./src/games/img/miraginewar.jpg"></a>
        </div>
        <div class="game">
            <a  href="./player.html?location=ZXh0ZXJuYWxzb3VyY2UuaHRtbD91cmw9aHR0cDovLzEzLjQwLjE5Ny4xMDQvcGxheWVyLmh0bWw/dXJsPUxpOXpjbU12WjJGdFpVWnBiR1Z6TDBWRExXVnRZbVZrWjJGdFpTNW9kRzFzJm5hbWU9RWFnbGVyY3JhZnQ=&name=Eaglercraft&type=HTML" target="_blank">
            <h2>Eaglercraft</h2>
            <img src="./src/games/img/eaglercraft.png"></a>
        </div>
        <div class="game">
            <a  href="./player.html?location=ZXh0ZXJuYWxzb3VyY2UuaHRtbD91cmw9aHR0cDovLzEzLjQwLjE5Ny4xMDQvcGxheWVyLmh0bWw/dXJsPUxpOXpjbU12WjJGdFpVWnBiR1Z6TDBaT1FWY3RaVzFpWldSbllXMWxMbWgwYld3PSZuYW1lPUZpdmVOaWdodHNBdFdpbnN0b25z&name=FiveNightsAtWinstons&type=HTML" target="_blank">
            <h2>Five Nights At Winston's</h2>
            <img src="./src/games/img/fnaw.png"></a>
        </div>
        <div class="game">
            <a  href="./player.html?location=ZXh0ZXJuYWxzb3VyY2UuaHRtbD91cmw9aHR0cHM6Ly9zbG9wZWdhbWUub25saW5lL3Nsb3BlLWdhbWUuZW1iZWQmbmFtZT1TbG9wZQ==&name=Slope&type=HTML" target="_blank">
            <h2>Slope</h2>
            <img src="./src/games/img/slope.png"></a>
        </div>
        <div class="game">
            <a  href="./player.html?location=ZXh0ZXJuYWxzb3VyY2UuaHRtbD91cmw9aHR0cDovLzEzLjQwLjE5Ny4xMDQvcGxheWVyLmh0bWw/dXJsPWFIUjBjSE02THk5amNtOXpjM2x5YjJGa0xtNWxkR3hwWm5rdVlYQncmbmFtZT1Dcm9zc3lSb2Fk&name=CrossyRoad&type=HTML" target="_blank">
            <h2>CrossyRoad</h2>
            <img src="./src/games/img/crossyroad.png"></a>
        </div>
        <div class="game">
            <a  href="./daveapproved.html" target="_blank">
                <h2>More coming soon...</h2>
                <img src="./src/games/img/comingsoon.jpg">
            </a>
        </div>
    </div>
    <footer>
        <a href="./index.html"><button>GO HOME</button></a>
    </footer>
</body>
<script>

    const queryString = window.location.search;
    const urlParams = new URLSearchParams(queryString);
    const from = urlParams.get("from");
    const origin = urlParams.get("origin");

    const recentgamesMsg = document.getElementById("recentgamesMsg")
    const name = document.getElementById("name").onclick = function() {startColours()};
    const colours = ['red', 'orange', 'yellow', 'green', 'blue', 'violet']
    let currentIndex = 0;
    function changingColours() {
        document.body.style.background = colours[currentIndex];
        currentIndex = (currentIndex + 1) % colours.length; 
    }

    function startColours() {
        const iterval = setInterval(changingColours, 100);
    }

    function setCookie(cname, cvalue) {
        document.cookie = cname + "=" + cvalue + ";"
    }

    function getCookie(cname) {
        let name = cname + "=";
        let decodedCookie = decodeURIComponent(document.cookie);
        let ca = decodedCookie.split(';');
        for (let i = 0; i < ca.length; i++) {
            let c = ca[i]
            while (c.charAt(0) == ' ') {
                c = c.substring(1);
            }
            if (c.indexOf(name) == 0) {
                return c.substring(name.length, c.length);
            }
        }
        return "";
    }

    function checkCookie() {
        let checkUser = getCookie("username");
        if (checkUser != "") {
            user = checkUser
        } else {
            user = prompt("Please enter your name to access: ")
            if (user != "" && user != null) {
                setCookie("username", user)
            }
        }
    }

    images = {
        "ageofwar2": "ageofwar2.png",
        "burgertycoon": "fastfoodtycoon.png",
        "papaspizzera": "papaspizzeria.png",
        "jacksmith": "jacksmith.png",
        "themehotel": "themehotel.png",
        "whenpizzasattack": "papalouiewhenpizzasattack.png",
        "miraginewar": "miraginewar.jpg",
        "eaglercraft": "eaglercraft.png",
        "fivenightsatwinstons": "fnaw.png",
        "slope": "slope.png",
        "crossyroad": "crossyroad.png"
    }

    let user = getCookie("username")
    if (user == "") {
        checkCookie()
    } else {
        if (getCookie("lastGame1") != "" && getCookie("lastGame2") != "" && getCookie("lastGame3") != "") {
            recentgamesMsg.innerHTML = "Hey! " + user + ", here are your recently played games:"

            const recentGames = document.getElementById("recent")
            var card1 = document.createElement("div");
            var card2 = document.createElement("div");
            var card3 = document.createElement("div");

            card1.setAttribute("class", "game")
            card2.setAttribute("class", "game")
            card3.setAttribute("class", "game")

            recentGames.appendChild(card1);
            recentGames.appendChild(card2);
            recentGames.appendChild(card3);

            var a1 = document.createElement("a");
            var a2 = document.createElement("a");
            var a3 = document.createElement("a");

            a1.setAttribute("href", getCookie("lastGame1"))
            a2.setAttribute("href", getCookie("lastGame2"))
            a3.setAttribute("href", getCookie("lastGame3"))

            a1.setAttribute("target", "_blank")
            a2.setAttribute("target", "_blank")
            a3.setAttribute("target", "_blank")

            card1.appendChild(a1);
            card2.appendChild(a2);
            card3.appendChild(a3);

            var text1 = document.createElement("h2");
            var text2 = document.createElement("h2");
            var text3 = document.createElement("h2");

            var img1 = document.createElement("img");
            var img2 = document.createElement("img");
            var img3 = document.createElement("img");

            for (var i = 0; i < 3; i++) {
                let currentGame = "lastGame" + (i + 1);
                let gameURL = getCookie(currentGame);
                let searchParams = new URLSearchParams(gameURL);
                let gameName = searchParams.get('name');

                if (i == 0) {
                    text1.innerHTML = gameName
                    img1.setAttribute("src", "./src/games/img/" + images[gameName.toLowerCase()])
                } else if (i == 1) {
                    text2.innerHTML = gameName
                    img2.setAttribute("src", "./src/games/img/" + images[gameName.toLowerCase()])
                } else if (i == 2) {
                    text3.innerHTML = gameName
                    img3.setAttribute("src", "./src/games/img/" + images[gameName.toLowerCase()])
                }
            }

            a1.appendChild(text1);
            a2.appendChild(text2);
            a3.appendChild(text3);

            a1.appendChild(img1);
            a2.appendChild(img2);
            a3.appendChild(img3);
        } else {
            recentgamesMsg.innerHTML = "Hey! " + user + ", Enjoy our amazing selection of games!"
        }
    }
</script>
</html>